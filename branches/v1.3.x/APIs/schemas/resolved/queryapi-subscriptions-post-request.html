---
layout: default
title: Schema queryapi-subscriptions-post-request.json
---

<html>
<meta charset="UTF-8">
<h2>Schema queryapi-subscriptions-post-request.json</h2>
<p>
    <a href="../../schemas/with-refs/queryapi-subscriptions-post-request.html">Show referenced schemas with $ref</a>
</p>
<div id="json-render">
<script type="text/javascript" src="json-formatter.js"></script>
<script>
const formatter = new JSONFormatter.default(
{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "Create a new subscription to a Query API",
    "properties": {
        "authorization": {
            "description": "Whether the WebSocket connection requires authorization. NB: Default should be 'true' if the API requires authorization, and 'false' otherwise.",
            "type": "boolean"
        },
        "max_update_rate_ms": {
            "default": 100,
            "description": "Rate limiting for messages. Sets the minimum interval (in milliseconds) between consecutive WebSocket messages.",
            "type": "integer"
        },
        "params": {
            "description": "Object containing attributes to filter the resource on as per the Query Parameters specification. Can be empty.",
            "type": "object"
        },
        "persist": {
            "default": false,
            "description": "Whether the API will retain or destroy the subscription after the final client disconnects",
            "type": "boolean"
        },
        "resource_path": {
            "description": "HTTP resource path in the Query API to which this subscription relates",
            "enum": [
                "/nodes",
                "/devices",
                "/sources",
                "/flows",
                "/senders",
                "/receivers"
            ],
            "type": "string"
        },
        "secure": {
            "description": "Whether a secure WebSocket connection (wss://) is required. NB: Default should be 'true' if the API is being presented via HTTPS, and 'false' otherwise.",
            "type": "boolean"
        }
    },
    "required": [
        "max_update_rate_ms",
        "persist",
        "resource_path",
        "params"
    ],
    "title": "Subscription creation",
    "type": "object"
}
,
    3, // Collapse depth
    {
        pathsToCollapse: [
            "properties.id"
        ],
        sortPropertiesBy: function(a, b) {
           if (a === "title") { return -1; }
           if (b === "title") { return 1; }
           if (a === "description") { return -1; }
           if (b === "description") { return 1; }
           return a > b;
        }
    });
document.getElementsByClassName("content")[0].appendChild(formatter.render());
</script>
</div>
</html>
